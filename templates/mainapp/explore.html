{% extends "mainapp/layout.html" %}
{% load static %}

{% block title %}
Explore
{% endblock title %}


{% block head %}
<link rel="stylesheet" href="{% static 'mainapp/css/explore.css' %}">
{% endblock head %}


{% block main %}
<!-----------------------------------------------------------Top Button------------------------------------------------------------------------->
	<script>
	window.onscroll = function() {scrollFunction()};
     function scrollFunction() {
     if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
         document.getElementById("myBtn").style.display = "block";
    } else {
        document.getElementById("myBtn").style.display = "none";
    }
    }
    function topFunction() {
       document.body.scrollTop = 0; // For Safari
       document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }
	 
	</script>
	<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
	
<div class="large-screen" style="width:1200px; margin:0 auto;">
    <div class="centre">
        {% for book in book %}
        <div class="wrapper" style="display:inline-flex;">
            <div>
                <div class="data">
                    <div class="cover-img">
                        <img class=" cover-img-size" src="{{book.image_url}}" alt="book Card">
                    </div>
                    <div class="content text-center">
                        <div class="title">{{ book.original_title }}</div>
                        <div class="author">by {{ book.authors}}</div>
                    </div>
                </div>
                <div class="hide text-center">
                    <a href="javascript:;" onclick='bookDetails(this)' class="btn more-details"
                        data-book-id="{{ book.book_id }}">More Details</a>
                    {% if user.is_authenticated %}
                    <div class='rating-block' id='rating-block-{{ book.book_id }}' onmouseover="rateStart(this)"
                        onclick='rateBook(this)' onmouseout='finishRate(this)' data-book-id="{{ book.book_id }}">
                        <div id='button-text-{{ book.book_id }}'>Rate <i class="fa fa-heart" style="color:red"></i> This
                            Book
                            </a>
                        </div>
                        <div class='rateYo' id='rate-{{ book.book_id }}'></div>
                    </div>
                    {% else %}
                    <div class='rating-block btn' onclick="location.href='{% url 'account_signup' %}'">
                        <div id='button-text'>Rate <i class="fa fa-heart" style="color:red"></i> This Book</a>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!------------------------------------------- for small screens ------------------------------------------------------------------------>
<div class="small-screen">
    <div id="demo" class="carousel slide" data-ride="carousel">
        <!------------------------------------- carousel first row -------------------------->
        <div class=" carousel-inner " class="ml-auto">
            <div class="carousel-item active">
                {% for book in book|slice:":50"%}
                <div class="wrapper" style="display:inline-flex;">
                    <div>
                        <div class="data">
                            <div class="cover-img">
                                <img class=" cover-img-size" src="{{book.image_url}}" alt="book Card">
                            </div>
                            <div class="content text-center">
                                <div class="title">{{ book.original_title }}</div>
                                <div class="author">by {{ book.authors}}</div>
                            </div>
                        </div>
                        <div class="hide text-center">
                            <a href="javascript:;" onclick='bookDetails(this)' class="btn more-details"
                                data-book-id="{{ book.book_id }}">More Details</a>
                            {% if user.is_authenticated %}
                            <div class='rating-block' id='rating-block-{{ book.book_id }}' onmouseover="rateStart(this)"
                                onclick='rateBook(this)' onmouseout='finishRate(this)'
                                data-book-id="{{ book.book_id }}">
                                <div id='button-text-{{ book.book_id }}'>Rate <i class="fa fa-heart"
                                        style="color:red"></i> This Book
                                    </a>
                                </div>
                                <div class='rateYo' id='rate-{{ book.book_id }}'></div>
                            </div>
                            {% else %}
                            <div class='rating-block btn' onclick="location.href='{% url 'account_signup' %}'">
                                <div id='button-text'>Rate <i class="fa fa-heart" style="color:red"></i> This Book</a>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if forloop.counter|divisibleby:5 and forloop.counter > 0 and not forloop.last %}
            </div>
            <div class="carousel-item ">
                {% endif %} {% endfor %}
            </div>
        </div>
        <a class="carousel-control-prev top-books-carousel" href="#demo" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon " aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next top-books-carousel" href="#demo" role="button" data-slide="next">
            <span class="carousel-control-next-icon " aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>


    <div id="demo2" class="carousel slide" data-ride="carousel">
        <!------------------------------------- carousel second row -------------------------->
        <div class=" carousel-inner " class="ml-auto">
            <div class="carousel-item active">
                {% for book in book|slice:"50:100" %}
                <div class="wrapper" style="display:inline-flex;">
                    <div class="single-card">
                        <div class="data">
                            <div class="cover-img">
                                <img class=" cover-img-size" src="{{book.image_url}}" alt="book Card">
                            </div>
                            <div class="content text-center">
                                <div class="title">{{ book.original_title }}</div>
                                <div class="author">by {{ book.authors}}</div>
                            </div>
                        </div>
                        <div class="hide text-center">
                            <a href="javascript:;" onclick='bookDetails(this)' class="btn more-details"
                                data-book-id="{{ book.book_id }}">More Details</a>
                            {% if user.is_authenticated %}
                            <div class='rating-block' id='rating-block-{{ book.book_id }}' onmouseover="rateStart(this)"
                                onclick='rateBook(this)' onmouseout='finishRate(this)'
                                data-book-id="{{ book.book_id }}">
                                <div id='button-text-{{ book.book_id }}'>Rate <i class="fa fa-heart"
                                        style="color:red"></i> This Book
                                    </a>
                                </div>
                                <div class='rateYo' id='rate-{{ book.book_id }}'></div>
                            </div>
                            {% else %}
                            <div class='rating-block btn' onclick="location.href='{% url 'account_signup' %}'">
                                <div id='button-text'>Rate <i class="fa fa-heart" style="color:red"></i> This Book</a>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if forloop.counter|divisibleby:5 and forloop.counter > 0 and not forloop.last %}
            </div>
            <div class="carousel-item ">
                {% endif %} {% endfor %}
            </div>
        </div>
        <a class="carousel-control-prev top-books-carousel" href="#demo2" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon " aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next top-books-carousel" href="#demo2" role="button" data-slide="next">
            <span class="carousel-control-next-icon " aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div id="demo3" class="carousel slide" data-ride="carousel">
        <!------------------------------------- carousel third row -------------------------->
        <div class=" carousel-inner " class="ml-auto">
            <div class="carousel-item active">
                {% for book in book|slice:"100:150" %}
                <div class="wrapper" style="display:inline-flex;">
                    <div class="single-book">
                        <div class="data">
                            <div class="cover-img">
                                <img class=" cover-img-size" src="{{book.image_url}}" alt="book Card">
                            </div>
                            <div class="content text-center">
                                <div class="title">{{ book.original_title }}</div>
                                <div class="author">by {{ book.authors}}</div>
                            </div>
                        </div>
                        <div class="hide text-center">
                            <a href="javascript:;" onclick='bookDetails(this)' class="btn more-details"
                                data-book-id="{{ book.book_id }}">More Details</a>
                            {% if user.is_authenticated %}
                            <div class='rating-block' onmouseover="rateStart(this)" onclick='rateBook(this)'
                                onmouseout='finishRate(this)' data-book-id="{{ book.book_id }}">
                                <div id='button-text-{{ book.book_id }}'>Rate <i class="fa fa-heart"
                                        style="color:red"></i> This Book
                                    </a>
                                </div>
                                <div class='rateYo' id='rate-{{ book.book_id }}'></div>
                            </div>
                            {% else %}
                            <div class='rating-block btn' onclick="location.href='{% url 'account_signup' %}'">
                                <div id='button-text'>Rate <i class="fa fa-heart" style="color:red"></i> This Book</a>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if forloop.counter|divisibleby:5 and forloop.counter > 0 and not forloop.last %}
            </div>
            <div class="carousel-item ">
                {% endif %} {% endfor %}
            </div>
        </div>
        <a class="carousel-control-prev top-books-carousel" href="#demo3" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon " aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next top-books-carousel" href="#demo3" role="button" data-slide="next">
            <span class="carousel-control-next-icon " aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>


{% endblock main %}